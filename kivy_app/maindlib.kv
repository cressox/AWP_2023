<MyScreenManager>:
    MainScreen:
        name: 'main'
    DetectionScreen:
        name: 'detection'
    LoadingScreen:
        name: 'loading'
    SettingsScreen:
        name: 'settings'
    HelpScreen:
        name: 'help'

<MainScreen>:
    BoxLayout:
        orientation: 'vertical'
        spacing: '20dp'
        padding: '20dp'
        canvas:
            Color:
                rgb: 0.2, 0.3, 0.4
            Rectangle:
                pos: self.pos
                size: self.size

        Button:
            text: 'Go to Detection'
            on_press: app.root.load_detection_screen()
            size_hint_y: None
            height: '48dp'
            background_color: 0.1, 0.2, 0.3, 1

        Button:
            text: 'Go to Settings'
            on_press: app.root.set_screen('settings')
            size_hint_y: None
            height: '48dp'
            background_color: 0.1, 0.2, 0.3, 1

        Button:
            text: 'Go to Help'
            on_press: app.root.set_screen('help')
            size_hint_y: None
            height: '48dp'
            background_color: 0.1, 0.2, 0.3, 1

<DetectionScreen>:
    BoxLayout:
        orientation: 'vertical'
        spacing: '20dp'
        padding: '20dp'
        canvas:
            Color:
                rgb: 0.2, 0.3, 0.4
            Rectangle:
                pos: self.pos
                size: self.size

        Image:
            id: image_view

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: '48dp'

            Button:
                text: 'Back to Main'
                on_press: app.root.set_screen('main')
                size_hint_x: None
                width: '120dp'
                background_color: 0.1, 0.2, 0.3, 1

<LoadingScreen>:
    BoxLayout:
        orientation: 'vertical'
        spacing: '20dp'
        padding: '20dp'
        canvas:
            Color:
                rgba: 0.2, 0.3, 0.4, 1
            Rectangle:
                pos: self.pos
                size: self.size

        ProgressBar:
            id: progress_bar
            max: 100
            value: 0
            background_color: 0.2, 0.2, 0.2, 1
            foreground_color: 0, 1, 0, 1  # Initial color: green


<SettingsScreen>:
    BoxLayout:
        orientation: 'vertical'
        spacing: '20dp'
        padding: '20dp'
        canvas:
            Color:
                rgba: 0.2, 0.3, 0.4, 1
            Rectangle:
                pos: self.pos
                size: self.size

        ToggleButton:
            id: fast_mode_button
            text: 'Schneller Modus'
            on_state: root.toggle_mode('fast')
            size_hint_y: None
            height: '222dp'
            background_color: (0.2, 0.3, 0.4, 1) if root.mode == 'fast' else (0.1, 0.2, 0.3, 1)
            background_normal: ''
            background_down: ''

        ToggleButton:
            id: detailed_mode_button
            text: 'Detailierter Modus'
            on_state: root.toggle_mode('detailed')
            size_hint_y: None
            height: '222dp'
            background_color: (0.2, 0.3, 0.4, 1) if root.mode == 'detailed' else (0.1, 0.2, 0.3, 1)
            background_normal: ''
            background_down: ''

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: '48dp'

            Button:
                text: 'Back to Main'
                on_press: app.root.set_screen('main')
                size_hint_x: None
                width: '120dp'
                background_color: 0.1, 0.2, 0.3, 1




<HelpScreen>:
    BoxLayout:
        orientation: 'vertical'
        spacing: '20dp'
        padding: '20dp'
        canvas:
            Color:
                rgb: 0.2, 0.3, 0.4
            Rectangle:
                pos: self.pos
                size: self.size

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: '48dp'

            Button:
                text: 'Back to Main'
                on_press: app.root.set_screen('main')
                size_hint_x: None
                width: '120dp'
                background_color: 0.1, 0.2, 0.3, 1
